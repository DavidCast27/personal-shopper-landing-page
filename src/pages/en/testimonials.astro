---
import SiteLayout from "../../layouts/SiteLayout.astro";
import ReviewsBlock from "@/components/blocks/reviews-1.astro";
import { getTestimonials } from "@/lib/content";

const placeholderImage = "/uploads/image-placeholder.daj0efyq_29eycw.webp";

const testimonials = await getTestimonials("en");
const items = testimonials.map((t) => ({
  title: (t.frontmatter.title as string) ?? "Testimonial",
  description: t.body || "",
  rating: t.rating ?? 5,
  item: {
    title: (t.frontmatter.author as string) ?? "Client",
    description: (t.frontmatter.role as string) ?? "",
    image: {
      src: (t.frontmatter.avatar as string) ?? placeholderImage,
      alt: (t.frontmatter.author as string) ?? "Client",
    },
  },
}));
---

<SiteLayout
  lang="en"
  title={`Testimonials â€“ Personal Shopper`}
  description={"Client testimonials"}
>
  <ReviewsBlock items={items}>
    <h1>Testimonials</h1>
    <p>What clients say about us.</p>
  </ReviewsBlock>
</SiteLayout>
