---
import SiteLayout from "../../../layouts/SiteLayout.astro";
import ArticlesBlock from "@/components/blocks/articles-4.astro";
import { getBlogPosts } from "@/lib/content";

const placeholderImage = "/uploads/image-placeholder.daj0efyq_29eycw.webp";

const posts = await getBlogPosts("en");
const items = posts.map((p) => ({
  title: (p.frontmatter.title as string) ?? p.slug,
  description: (p.frontmatter.description as string) ?? "",
  href: `/en/blog/${p.slug}`,
  image: {
    src: (p.frontmatter.image as string) ?? placeholderImage,
    alt: (p.frontmatter.title as string) ?? p.slug,
    width: 600,
    height: 338,
  },
  item: {
    title: "Author",
    description: "",
    image: { src: placeholderImage, alt: "" },
  },
}));
---

<SiteLayout
  lang="en"
  title="Blog â€“ Personal Shopper"
  description="Articles and tips"
>
  <ArticlesBlock items={items}>
    <h1>Blog</h1>
    <p>Articles and tips.</p>
  </ArticlesBlock>
  {
    items.length === 0 && (
      <p class="px-6 py-10 text-sm text-gray-500">No posts yet.</p>
    )
  }
</SiteLayout>
