---
import SiteLayout from "../../layouts/SiteLayout.astro";
import ReviewsBlock from "@/components/blocks/reviews-1.astro";
import { getTestimonials } from "@/lib/content";

const placeholderImage = "/uploads/image-placeholder.daj0efyq_29eycw.webp";

const testimonials = await getTestimonials("fr");
const items = testimonials.map((t) => ({
  title: t.title,
  description: t.body || "",
  rating: t.rating ?? 5,
  item: {
    title: t.author || "Client",
    description: t.role || "",
    image: {
      src: t.avatar || placeholderImage,
      alt: t.author || "Client",
    },
  },
}));
---

<SiteLayout
  lang="fr"
  title={`Témoignages – Personal Shopper`}
  description={"Témoignages de clients"}
>
  <ReviewsBlock items={items}>
    <h1>Témoignages</h1>
    <p>Ce que disent nos clients.</p>
  </ReviewsBlock>
</SiteLayout>
