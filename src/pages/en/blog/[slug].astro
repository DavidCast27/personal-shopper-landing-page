---
import SiteLayout from "../../../layouts/SiteLayout.astro";
import ArticleBlock from "@/components/blocks/article-1.astro";
import { getBlogPosts, getPost } from "@/lib/content";

const placeholderImage = "/uploads/image-placeholder.daj0efyq_29eycw.webp";

export async function getStaticPaths() {
  const posts = await getBlogPosts("en");
  return posts.map((p) => ({ params: { slug: p.slug } }));
}

const { slug } = Astro.params;
const post = await getPost("en", slug!);
const title = post.title;
---

<SiteLayout
  lang="en"
  title={`${title} â€“ Personal Shopper`}
  description={post.description || ''}
>
  <ArticleBlock
    title={title}
    description={post.description || ""}
    image={{
      src: post.image ?? placeholderImage,
      alt: title,
      width: 672,
      height: 378,
    }}
    item={{
      title: "Author",
      description: "",
      image: { src: placeholderImage, alt: "" },
    }}
  >
    <p>{post.body}</p>
  </ArticleBlock>
</SiteLayout>
export const prerender = true;
