---
import { Button } from "@/components/ui/button"
import {
  Section,
  SectionActions,
  SectionContent,
  SectionProse,
  SectionSplit,
} from "@/components/ui/section"

interface Item {
  title?: string
  description?: string
  icon?: string
  link_text?: string
  link_href?: string
}

interface Props {
  class?: string
  id?: string
  title?: string
  subtitle?: string
  items?: Item[]
  links?: { text?: string; href?: string }[]
}

const { class: className, id, title, subtitle, items = [], links } = Astro.props as Props
---

<Section class={className} id={id}>
  <SectionSplit>
    <SectionContent>
      <SectionProse>
        {title && <h2>{title}</h2>}
        {subtitle && <p>{subtitle}</p>}
        <slot />
      </SectionProse>
      <SectionActions>
        {links?.map(({ text, ...link }, i) => (
          <Button variant={i === 0 ? "default" : "outline"} {...link}>
            {text}
          </Button>
        ))}
      </SectionActions>
    </SectionContent>
    <ol class="grid gap-4 @container @lg:grid-cols-2 @4xl:grid-cols-3">
      {items.map((it, idx) => (
        <li class="border-border bg-card text-card-foreground flex flex-col gap-2 rounded-lg border p-4">
          <div class="text-primary bg-primary/10 inline-flex size-8 items-center justify-center rounded-full font-semibold">
            {idx + 1}
          </div>
          <div class="space-y-1">
            <h3 class="text-lg font-semibold leading-tight">{it.title}</h3>
            <p class="text-muted-foreground text-sm">{it.description}</p>
          </div>
          {it.link_text && it.link_href && (
            <div class="mt-1">
              <Button variant="ghost" size="sm" href={it.link_href}>
                {it.link_text}
              </Button>
            </div>
          )}
        </li>
      ))}
    </ol>
  </SectionSplit>
  
</Section>

